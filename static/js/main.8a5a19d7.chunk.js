(this.webpackJsonpcxrili=this.webpackJsonpcxrili||[]).push([[0],{29:function(t,e,n){},30:function(t,e,n){},31:function(t,e,n){},32:function(t,e,n){},33:function(t,e,n){},44:function(t,e,n){},45:function(t,e,n){},46:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),s=n(23),r=n.n(s),c=(n(29),n(30),n(31),n(32),n(33),n(2)),o=n(3),h=n(5),l=n(4),u=n(1),p=(a.Component,n(11)),d=n(18),j=n.n(d),b=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={isToggleOn:!1},a.handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=j.a.get("colorTheme");this.props.onThemeSwitch(t),this.setState({isToggleOn:"dark-theme"===t})}},{key:"handleClick",value:function(){var t=this;this.setState((function(e){var n=e.isToggleOn?"light-theme":"dark-theme";return t.props.onThemeSwitch(n),j.a.set("colorTheme",n),{isToggleOn:!e.isToggleOn}}))}},{key:"render",value:function(){return Object(u.jsx)("button",{className:"nogrow",onClick:this.handleClick,children:this.state.isToggleOn?"\ud83c\udf19":"\ud83d\udd06"})}}]),n}(a.Component),f=n(13),v=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(o.a)(n,[{key:"render",value:function(){return Object(u.jsx)(f.b,{to:"/cxrili/week",children:Object(u.jsx)("button",{className:"home",children:"\u10ea\u10ee\u10e0\u10d8\u10da\u10d8"})})}}]),n}(a.Component),m=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(o.a)(n,[{key:"handleClick",value:function(){alert("no alerts pls")}},{key:"render",value:function(){return Object(u.jsx)("button",{className:"nogrow",onClick:this.handleClick.bind(this),children:"\u24d8"})}}]),n}(a.Component),O=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(o.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"nav-bar",children:[Object(u.jsx)(b,{onThemeSwitch:this.props.onThemeSwitch}),Object(u.jsx)(v,{}),Object(u.jsx)(m,{})]})}}]),n}(a.Component),g=(n(44),function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(o.a)(n,[{key:"render",value:function(){return Object(u.jsxs)(f.b,{to:"/cxrili/day/".concat(this.props.day),className:"day-table-block",children:[Object(u.jsx)("h1",{className:"title",children:this.props.name}),Object(u.jsx)("ul",{children:this.props.table.map((function(t,e){return Object(u.jsx)("li",{children:t})}))})]})}}]),n}(a.Component)),y=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={tables:[],day:a.props.day},a.weekdays=["\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8","\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8","\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8","\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8","\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8"],a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var t=this;fetch("/cxrili/timetable/11g.json").then((function(t){return t.json()})).then((function(e){t.setState({tables:e.tables.map((function(t){return t.split(/[\r|\n]+/).map((function(t){return t.split(",")[0]})).sort((function(t,e){return t.int_start-e.int_start}))}))})}))}},{key:"render",value:function(){var t=this;return Object(u.jsx)("div",{className:"week-table content-box",children:this.state.tables.map((function(e,n){return Object(u.jsx)(g,{day:n,name:t.weekdays[n],table:e,isToday:t.props.today===n},n)}))})}}]),n}(a.Component),k=(n(45),function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(o.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"center",children:[Object(u.jsx)("h1",{children:"\u10e1\u10d0\u10da\u10d0\u10db\u10d8!"}),Object(u.jsxs)("h2",{children:["\u10db\u10d4 \u10d5\u10d0\u10e0 ",Object(u.jsx)("mark",{children:"\u10ea\u10ee\u10e0\u10d8\u10da\u10d8"}),". ",Object(u.jsx)("br",{})," \u10d3\u10d8\u10d0\u10ee, \u10d8\u10e1 ",Object(u.jsx)("mark",{children:"\u10ea\u10ee\u10e0\u10d8\u10da\u10d8"})," \u10e0\u10dd\u10db\u10d4\u10da\u10e1\u10d0\u10ea \u10db\u10dd\u10e3\u10d7\u10db\u10d4\u10dc\u10da\u10d0\u10d3 \u10d4\u10da\u10dd\u10d3\u10d8!"]}),Object(u.jsx)("h4",{children:"(\u10e0\u10d0\u10db\u10d4\u10e1 \u10d3\u10d0\u10d0\u10ed\u10d8\u10e0\u10d4)"})]})}}]),n}(a.Component)),x=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(o.a)(n,[{key:"render",value:function(){var t=this;return Object(u.jsx)("button",{onClick:function(){return t.props.onClick(t.props.name)},className:this.props.className?this.props.className+" ":"",children:this.props.children})}}]),n}(a.Component),w=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a.dayNames=["\u10dd\u10e0\u10e8","\u10e1\u10d0\u10db","\u10dd\u10d7\u10ee","\u10ee\u10e3\u10d7","\u10de\u10d0\u10e0"],a}return Object(o.a)(n,[{key:"render",value:function(){var t=this;return Object(u.jsx)("div",{className:"nav-bar",children:this.dayNames.map((function(e,n){return Object(u.jsx)(x,{onClick:t.props.onDayChange,name:n,className:n===t.props.day?"active":"",children:e},e)}))})}}]),n}(a.Component),T=n(21),S=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={left:"00:00",active:!1,previousPercentageThrough:0,timerStage:0},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;if(this.props.shouldUpdate){var e=new Date,n=60*e.getHours()+e.getMinutes();this.props.int_finish-n>=0?(this.timerID=setInterval((function(){return t.tick()}),this.props.int_start-n<2?1e3:6e4),this.tick(),this.setState({timerStage:this.props.int_start-n<2?2:1})):this.tick()}}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"componentDidUpdate",value:function(t){this.props.shouldUpdate!==t.shouldUpdate&&this.tick()}},{key:"tick",value:function(){var t=this,e=new Date,n="0:00",a=!1,i=0,s=60*e.getHours()+e.getMinutes();if(this.props.int_start-s<2&&1===this.state.timerStage&&(clearInterval(this.timerID),this.timerID=setInterval(this.tick,1e3),this.setState({timerStage:2})),s>=this.props.int_start)if((i=(s-this.props.int_start+e.getSeconds()/60)/(this.props.int_finish-this.props.int_start))>=1&&(i=1),this.props.shouldUpdate||(i=0),s<this.props.int_finish){a=!0;var r=this.props.int_finish-s,c=String(Math.floor(r/60)).padStart(2,"0"),o=String(Math.floor(r%60-1)).padStart(2,"0"),h=String(60-e.getSeconds()).padStart(2,"0");n=c>0?"".concat(c,":").concat(o,":").concat(h):"".concat(o,":").concat(h),this.props.updatePercentageThrough(i)}else clearInterval(this.timerID),this.setState({timerStage:2}),i!==this.state.previousPercentageThrough&&i>0&&this.props.updatePercentageThrough(1),0==i&&this.props.updatePercentageThrough(0);this.setState((function(e){return t.props.changeActive(a),{left:n,active:a,previousPercentageThrough:i}}))}},{key:"render",value:function(){return Object(u.jsxs)("ul",{className:"block-timers",children:[this.props.showStartAndFinish&&Object(u.jsxs)("li",{className:"block-timer start",children:[" ",this.props.start," "]}),this.state.active&&Object(u.jsxs)("li",{className:"block-timer left",children:[" ",this.state.left," "]}),this.props.showStartAndFinish&&Object(u.jsxs)("li",{className:"block-timer finish",children:[" ",this.props.finish," "]})]})}}]),n}(a.Component),C=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={active:!1,percentageThrough:0},a.changeActive=a.changeActive.bind(Object(p.a)(a)),a.updatePercentageThrough=a.updatePercentageThrough.bind(Object(p.a)(a)),a}return Object(o.a)(n,[{key:"changeActive",value:function(t){var e=this;this.setState((function(n){return{active:t&&e.props.isToday}}))}},{key:"updatePercentageThrough",value:function(t){this.setState({percentageThrough:t})}},{key:"render",value:function(){return Object(u.jsxs)("li",{className:"short time-line-block"+("break"===this.props.name?" break":" class")+(this.state.active?" active":""),children:[this.state.percentageThrough>0&&Object(u.jsx)("div",{className:"time-line",style:{height:"".concat(100*this.state.percentageThrough,"%")}}),Object(u.jsxs)("div",{className:"class-description",children:["break"!==this.props.name&&Object(u.jsxs)("h2",{className:"class-name",children:[" ",this.props.name," "]}),Object(u.jsx)(S,{start:this.props.start,finish:this.props.finish,int_start:this.props.int_start,int_finish:this.props.int_finish,showStartAndFinish:"break"!==this.props.name,shouldUpdate:this.props.isToday,changeActive:this.changeActive,updatePercentageThrough:this.updatePercentageThrough})]})]})}}]),n}(a.Component),N=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={tables:[],day:a.props.day},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var t=this;fetch("/cxrili/timetable/11g.json").then((function(t){return t.json()})).then((function(e){t.setState({tables:e.tables.map((function(t){for(var e=t.split(/[\r|\n]+/).map((function(t){return{name:t.split(",")[0],start:t.split(",")[1],finish:t.split(",")[2]}})),n=e.length,a=0;a<n-1;a++)e[a].finish!==e[a+1].start&&e.push({name:"break",start:e[a].finish,finish:e[a+1].start});return e=e.map((function(t){return Object(T.a)(Object(T.a)({},t),{},{int_start:60*parseInt(t.start.split(":")[0])+parseInt(t.start.split(":")[1]),int_finish:60*parseInt(t.finish.split(":")[0])+parseInt(t.finish.split(":")[1])})})),console.log(),e.sort((function(t,e){return t.int_start-e.int_start}))}))})}))}},{key:"render",value:function(){var t=this;return Object(u.jsx)("ul",{className:"time-table-timeline content-box",children:this.state.tables.length>0&&this.state.tables[this.props.day].map((function(e,n){return Object(u.jsx)(C,{name:e.name,start:e.start,finish:e.finish,int_start:e.int_start,int_finish:e.int_finish,isToday:t.props.today===t.props.day},n)}))})}}]),n}(a.Component),D=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var a;Object(c.a)(this,n),a=e.call(this,t);var i=(new Date).getDay(),s=!(i<1||i>5)&&i-1;return a.state={colorTheme:"light-theme",day:parseInt(t.match.params.d||String(s||0)),today:s},a.changeDay=a.changeDay.bind(Object(p.a)(a)),a}return Object(o.a)(n,[{key:"changeDay",value:function(t){this.setState({day:t})}},{key:"render",value:function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(w,{onDayChange:this.changeDay,day:parseInt(this.state.day)}),Object(u.jsx)(N,{today:this.state.today,day:this.state.day})]})}}]),n}(a.Component),_=n(6),I=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var a;Object(c.a)(this,n),a=e.call(this,t);var i=(new Date).getDay();return a.state={colorTheme:"light-theme",today:!(i<1||i>5)&&i-1},a}return Object(o.a)(n,[{key:"switchTheme",value:function(t){this.setState((function(e){return document.body.classList.remove(e.colorTheme),document.body.classList.add(t),{colorTheme:t}}))}},{key:"render",value:function(){var t=this;return Object(u.jsx)(f.a,{children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)(_.c,{children:[Object(u.jsx)(_.a,{path:"/cxrili/",exact:!0,component:k}),Object(u.jsx)(_.a,{path:"/cxrili/day/:d",component:D}),Object(u.jsx)(_.a,{path:"/cxrili/day/",component:D}),Object(u.jsx)(_.a,{path:"/cxrili/week",component:function(){return Object(u.jsx)(y,{today:t.state.today})}})]}),Object(u.jsx)(O,{onThemeSwitch:this.switchTheme.bind(this)})]})})}}]),n}(a.Component),A=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}r.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(I,{})}),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/cxrili",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/cxrili","/service-worker.js");A?(!function(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):P(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):P(e,t)}))}}()}},[[46,1,2]]]);
//# sourceMappingURL=main.8a5a19d7.chunk.js.map